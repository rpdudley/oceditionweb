---
// Notes component with simple sidebar navigation
const { showNotes } = Astro.props;

// Topics with display names and IDs
const topics = [
    { id: 'introduction', name: 'Introduction' },
    { id: 'web-development', name: 'Web Development' },
    { id: 'javascript', name: 'JavaScript' },
    { id: 'python', name: 'Python' },
    { id: 'databases', name: 'Databases' },
    { id: 'algorithms', name: 'Algorithms' },
    { id: 'career-tips', name: 'Career Tips' },
    { id: 'dev-tools', name: 'Dev Tools' },
    { id: 'data-structures', name: 'Data Structures' }
];

---

<div class="h-full w-full text-white" x-data="{ 
  selectedTopic: 'introduction',
  showNotification: false,
  notificationText: '',
  
  async copyToClipboard(text) {
    try {
      await navigator.clipboard.writeText(text);
      this.notificationText = 'Copied to clipboard!';
      this.showNotification = true;
      setTimeout(() => {
        this.showNotification = false;
      }, 2000);
    } catch (err) {
      this.notificationText = 'Failed to copy';
      this.showNotification = true;
      setTimeout(() => {
        this.showNotification = false;
      }, 2000);
    }
  }
}">
  <!-- Container to match header max-width -->
  <div class="mx-auto max-w-5xl px-5">
    <div class="flex gap-6">
      <!-- Simple Sidebar - Aligned with header -->
      <div class="w-60 bg-black border-r border-gray-800 py-6 mt-16">
        <h2 class="text-sm mt-2 font-medium text-white px-3 py-2 mb-6">Topics</h2>
        <nav>
          <ul class="space-y-2">
            {topics.map(topic => (
              <li>
                <button 
                  x-on:click={`selectedTopic = '${topic.id}'`}
                  x-bind:class={`selectedTopic === '${topic.id}' ? 'bg-blue-600 text-white' : 'text-neutral hover:text-white hover:bg-gray-900'`}
                  class="w-full text-left block px-3 py-2 rounded-md transition-all duration-200"
                >
                  {topic.name}
                </button>
              </li>
            ))}
          </ul>
        </nav>
      </div>

      <!-- Main Content Area - Hard-coded content sections -->
      <div class="flex-1 py-6 relative">
        
        <!-- Copy Notification -->
        <div x-show="showNotification" 
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="transform translate-y-2 opacity-0"
             x-transition:enter-end="transform translate-y-0 opacity-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="transform translate-y-0 opacity-100"
             x-transition:leave-end="transform translate-y-2 opacity-0"
             class="fixed top-4 right-4 z-50 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2">
          <span x-text="notificationText"></span>
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
          </svg>
        </div>
        
        <!-- Introduction Section -->
        <div x-show="selectedTopic === 'introduction'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Introduction</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-6">Welcome to my notes for my website!</p>
            <p class="leading-relaxed mb-6">
              I have created this section of my website to record my thoughts and ideas as well as things I have learned throughout my years that I do not want to forget. 
              Someone may ask why put this on a website? The reason is to make it accessible from anywhere, think of it as a journal.

            </p>
          </div>
        </div>

        <!-- Web Development Section -->
        <div x-show="selectedTopic === 'web-development'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Web Development</h1>
          <div class="prose prose-lg text-gray-300">
          </div>
        </div>

        <!-- JavaScript Section -->
        <div x-show="selectedTopic === 'javascript'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">JavaScript</h1>
          <div class="prose prose-lg text-gray-300">
          </div>
        </div>

        <!-- Python Section -->
        <div x-show="selectedTopic === 'python'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Python</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-6">Python Commands</p>
            
            <h3 class="text-xl font-semibold text-white mb-4">Virtual Environment Setup</h3>
            <div class="bg-gray-900 rounded-lg p-4 mb-6 relative group">
              <code class="text-green-400 font-mono">python -m venv venv</code>
              <button @click="copyToClipboard('python -m venv venv')"
                      class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                Copy
              </button>
            </div>

            <h3 class="text-xl font-semibold text-white mb-4">Activate Virtual Environment</h3>
              <h1 class="text-lg font-bold text-white mb-2">Windows</h2>
                <div class="bg-gray-900 rounded-lg p-4 mb-6 relative group">
                    <code class="text-green-400 font-mono">.\venv\Scripts\Activate.ps1</code>
                        <button @click="copyToClipboard('.\\venv\\Scripts\\Activate.ps1')"
                              class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                        Copy
                        </button>
                </div>
            
                <h1 class="text-lg font-semibold text-white mb-2">Linux/Mac</h2>
                <div class="bg-gray-900 rounded-lg p-4 mb-6 relative group">
                    <code class="text-green-400 font-mono">source venv/bin/activate</code>
                    <button @click="copyToClipboard('source venv/bin/activate')"
                            class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                      Copy
                    </button>
                </div>
                      <button class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                Copy
              </button>
            </div>

            <h3 class="text-xl font-semibold text-white mb-4">Install Dependencies</h3>
            <div class="bg-gray-900 rounded-lg p-4 mb-6 relative group">
              <code class="text-green-400 font-mono">pip install -r requirements.txt</code>
              <button @click="copyToClipboard('pip install -r requirements.txt')"
                      class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                Copy
              </button>
            </div>

             <h3 class="text-xl font-semibold text-white mb-4">Create Requirements File</h3>
            <div class="bg-gray-900 rounded-lg p-4 mb-6 relative group">
              <code class="text-green-400 font-mono">pip freeze > requirements.txt</code>
              <button @click="copyToClipboard('pip freeze > requirements.txt')"
                      class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs">
                Copy
              </button>
            </div>
            <br>
          </div>
        </div>

        <!-- Databases Section -->
        <div x-show="selectedTopic === 'databases'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Databases</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-4">SQL, NoSQL, and database design.</p>
          </div>
        </div>

        <!-- Algorithms Section -->
        <div x-show="selectedTopic === 'algorithms'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Algorithms</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-4">Big O notation, sorting, and data structures.</p>
          </div>
        </div>

        <!-- Career Tips Section -->
        <div x-show="selectedTopic === 'career-tips'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Career Tips</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-4">Job search strategies and interview prep (what might and might not work).</p>
          </div>
        </div>

        <!-- Dev Tools Section -->
        <div x-show="selectedTopic === 'dev-tools'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Dev Tools</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-4">Git, VS Code, and productivity tools.</p>
          </div>
        </div>

        <!-- Data Structures Section -->
        <div x-show="selectedTopic === 'data-structures'" class="max-w-4xl">
          <h1 class="text-4xl font-bold mb-6 text-white">Data Structures</h1>
          <div class="prose prose-lg text-gray-300">
            <p class="mb-4">Arrays, linked lists, trees, and graphs.</p>
          </div>
        </div>
      </div>
    </div>
  </div>